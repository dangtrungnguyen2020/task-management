# This is the Nginx configuration file for a single-page React application.

# The server block defines a virtual server that listens on port 80.
server {
  # Listen on port 80 for HTTP requests.
  listen 80;

  # Set the server name. This can be 'localhost' or your domain name.
  server_name localhost;

  # Set the root directory for the web server.
  # This is where your React build output (static files) will be located.
  root /usr/share/nginx/html;

  # Define the default file to serve when a directory is requested.
  index index.html;

  # The location block handles all incoming requests.
  location / {
    # This `try_files` directive is crucial for client-side routing.
    # It tells Nginx to:
    # 1. Try to serve a file that matches the URI exactly ($uri).
    # 2. If no file is found, try to serve an index file within a directory ($uri/).
    # 3. If neither is found, fall back to serving `index.html`.
    # This allows the React router to take over and handle the routing.
    try_files $uri $uri/ /index.html;
  }

  # Log errors and access.
  error_log /var/log/nginx/error.log;
  access_log /var/log/nginx/access.log;
}
